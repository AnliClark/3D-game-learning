# construct 3 黑猫历险记
## 前言
本游戏是一款使用 construct 3 开发的2D平台跳跃冒险小游戏，其玩法展示如下：

[视频链接]

## construct 3 简易入门

<u>如果你已经熟悉construct 3了，可以跳过这一部分。</u>

为了方便接下来的讲解，我先介绍并总结一下我认为需要注意的对象、行为与事件设计。在此之前，推荐先完成 construct 3 的入门教程。

### 对象类型
#### 精灵
最常用的对象类型，如无例外，都设计为精灵类型即可。
#### 平铺图
平台这种需要大量创建，且需要在同一水平线或竖直线创建的对象，首推设计为平铺图，这可以让你创建出来的对象是平整的。
### 行为
#### 正弦运动
可以等效为为精灵添加动画效果，很好用且有多样性的行为。

例如，为对象添加正弦运动后，设置运动为上下运动，将振幅调小，即可让对象产生轻微的上下浮动，以此让画面动起来。也可以为陷阱添加这种行为，让陷阱动起来，以增加游戏难度

<p align = "center">
<img src="imgs/construct3-3.png" width="30%" height="30%" />
<p>

效果如下：
<p align = "center">
<img src="imgs/walk.gif" width="30%" height="30%" />
<p>

#### 补间动画
跳过设置透明度，可以为对象增加一种淡入淡出的效果，适合用来做提示或结束的动画效果：
<p align = "center">
<img src="imgs/text.gif" width="30%" height="30%" />
<p>

要达成这种设置，需要添加事件：
<p align = "center">
<img src="imgs/construct3-4.png" width="60%" height="60%" />
<p>

#### 旋转与环绕
*旋转*使得对象连续旋转自身，*环绕*则是绕着某个中心点做椭圆运动，两者叠加可以设置新的陷阱，增加游戏的多样性

#### 平台与实体
*平台*允许玩家在*实体*上跳跃与奔跑。这两个是2D平台跳跃冒险游戏的重要组成部分。

## 具体设计

作为一款2D平台冒险游戏，必然需要有玩家与平台。光有以上两个未免太过单调与枯燥，所以我又添加了陷阱与奖励。

接下来，我将分模块介绍各元素的对象类型设计、行为设计与事件表设计，其中，各元素如无例外都是设计为精灵类型。

### 玩家
玩家要在平台上跳跃，所以需要添加**平台**行为。此外，由于我的玩家添加了行走与静止的动画，所以需要在事件表中添加相应的逻辑，这需要使用到**键盘**对象。又由于我做了一个长地图，所以需要添加**镜头跟随**与**边界约束**行为。

### 键盘
玩家在添加了实体行为后即可通过键盘操控，但是简单的上下左右的移动并不能满足游戏要求，所以才需要添加键盘对象。玩家需要在往右走时播放往右走的动画，停下时播放朝右边静止的动画，反之同理。为此，<u>需要为按住与松开方向键时添加事件，播放相应的动画</u>。此外，游戏当然需要重启的方法，本游戏设计 R 键为重启键，需要添加重载场景的事件。

<p align = "center">
<img src="imgs/construct3.png" width="60%" height="60%" />
<p>

### 存档
在介绍陷阱之前，我想先介绍一下存档。由于引入了死亡机制，为了避免游戏难度太高，玩家一直卡在重复的陷阱却需要重复通过前面的陷阱，我设计了存档。存档主要是为了可以使得玩家死亡后在存档点复活，所以我设计了全局变量*存档点x*和*存档点y*，并为存档添加了事件：<u>当玩家与存档相碰时，设置存档点的坐标为此时猫的坐标。</u>

<p align = "center">
<img src="imgs/construct3-2.png" width="60%" height="60%" />
<p>

为了突出存档，使游戏更鲜活，我还使得存档可以上下浮动，为此，我添加了***正弦运动***行为(就如我之前所推荐的，正弦运动确实非常好用！)
<p align = "center">
<img src="imgs/save.gif" width="20%" height="20%" />
<p>


### 陷阱
本游戏的设计为不能掉在平台之外，所以我在平台之外设计了海洋，玩家与海洋重叠时会死亡并重置游戏，为此需要添加*销毁对象*与在存档点*创建对象*的事件。此外，我还设计了尖刺这一陷阱，玩家不能与尖刺碰撞。为了节省事件数（免费版有事件限制），我将这两个事件的触发设计为了OR条件，合并成了一个事件。

<p align = "center">
<img src="imgs/construct3-1.png" width="60%" height="60%" />
<p>

为了给玩家正反馈，我还设计了敌人，击败敌人的方式为踩敌人。当击败敌人时，会出现星星奖励，玩家可以收集这个奖励。

为此，需要先设计事件表：当玩家在下落时碰撞到敌人（即为踩到了敌人），那么就要销毁敌人并创建星星对象。由于我需要播放动画，需要等待一段时间，为了防止重复触发敌人死亡事件，我又添加了布尔变量来判断是否已进入该事件。此外，为了让游戏更加丝滑与真实，我让玩家向上跳跃，以此创造一种踩完敌人后弹跳的感觉。
<p align = "center">
<img src="imgs/construct3-5.png" width="60%" height="60%" />
<p>

其效果如下：



### 奖励

### 平台
平台为平台跳跃游戏的基石，是需要大量重复创造的元素，为了保证一个平台是平整的，可以把平台的对象类型设置成平铺图。此外为了保证玩家在其上跳跃，需要添加**实体**行为。